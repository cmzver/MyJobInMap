# FieldWorker Portal

Единый веб-портал для управления заявками. Поддерживает три роли пользователей с настраиваемыми интерфейсами.

## 🎯 Роли и доступ

### 👤 Администратор (admin)
- **Дашборд** — общая статистика и обзор системы
- **Все заявки** — полный доступ к управлению заявками
- **Карта** — визуализация всех заявок на карте
- **Календарь** — планирование по датам
- **Адреса** — управление адресной базой
- **Пользователи** — управление сотрудниками
- **Отчёты** — аналитика и статистика
- **Настройки** — конфигурация системы

### 👤 Диспетчер (dispatcher)
- **Дашборд** — статистика по заявкам
- **Все заявки** — создание и распределение заявок
- **Карта** — мониторинг работников
- **Календарь** — планирование
- **Адреса** — работа с адресами
- **Отчёты** — просмотр отчётов

### 👤 Работник (worker)
- **Мои заявки** — назначенные задачи
- **Карта** — навигация к точкам
- **Календарь** — планы на день
- **Профиль** — личные настройки

## 🛠 Технологии

- **React 18** + **TypeScript**
- **Tailwind CSS** — стилизация
- **React Router 6** — маршрутизация
- **TanStack Query** — управление данными
- **Zustand** — state management
- **React Hook Form** — формы
- **Leaflet** — карты
- **Lucide React** — иконки
- **date-fns** — работа с датами

## 📁 Структура

```
portal/
├── src/
│   ├── api/                  # API клиент
│   ├── components/           # UI компоненты
│   ├── config/
│   │   └── menuConfig.ts     # Конфигурация меню по ролям
│   ├── hooks/                # React хуки
│   ├── layouts/
│   │   └── DashboardLayout.tsx
│   ├── pages/
│   │   ├── DashboardPage.tsx     # Дашборд (admin, dispatcher)
│   │   ├── MyTasksPage.tsx       # Мои заявки (worker)
│   │   ├── TasksPage.tsx         # Все заявки
│   │   ├── TaskDetailPage.tsx    # Детали заявки
│   │   ├── MapPage.tsx           # Карта
│   │   ├── CalendarPage.tsx      # Календарь
│   │   ├── AddressesPage.tsx     # Адреса
│   │   ├── UsersPage.tsx         # Пользователи
│   │   ├── ReportsPage.tsx       # Отчёты
│   │   ├── ProfilePage.tsx       # Профиль
│   │   ├── NotificationsPage.tsx # Уведомления
│   │   └── SettingsPage.tsx      # Настройки
│   ├── store/
│   │   └── authStore.ts      # Авторизация + роли
│   ├── types/                # TypeScript типы
│   ├── utils/                # Утилиты
│   ├── App.tsx               # Роутинг с ProtectedRoute
│   └── main.tsx              # Entry point
├── package.json
├── tailwind.config.js
├── tsconfig.json
└── vite.config.ts
```

## 🚀 Запуск

```bash
# Установка зависимостей
cd portal
npm install

# Режим разработки
npm run dev

# Сборка
npm run build

# Предпросмотр сборки
npm run preview
```

## 🔗 API

Портал подключается к FastAPI серверу на порту `8001`.

В режиме разработки используется прокси:
```
/api/* → http://localhost:8001/api/*
```

## 🎨 Темы

Поддерживается светлая/тёмная тема:
- Переключатель в header
- Сохранение в localStorage
- Системная тема по умолчанию

## 📱 Адаптивность

Интерфейс адаптирован для:
- Десктоп (sidebar + main content)
- Планшет (collapsible sidebar)
- Мобильные (drawer menu)

## Версия

**v3.0.0** — Единый портал с системой бэкапов

---

**Последнее обновление:** 13 января 2026
